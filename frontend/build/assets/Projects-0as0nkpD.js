import{r as s,f as T,a as C,j as t}from"./index-Mo7RvhfR.js";import{C as P}from"./CampaignSmallCard-Bzd6GahR.js";import{F as v}from"./Footer-Cdlub8S1.js";import{B as w}from"./BarLoader-EusxCbZA.js";const R=()=>{const[d,h]=s.useState([]),[p,m]=s.useState(!0),[a,f]=T(),c=a.get("category")||"",r=a.get("search")||"",n=a.get("title")==="true",l=a.get("tags")==="true",[o,x]=s.useState(r),[g,j]=s.useState(n),[u,S]=s.useState(l),b=e=>{x(e.target.value)},N=()=>{const e=new URLSearchParams(a);o.trim()?e.set("search",o.trim()):e.delete("search"),g?e.set("title","true"):e.delete("title"),u?e.set("tags","true"):e.delete("tags"),f(e)};return s.useEffect(()=>{const e=new URLSearchParams;c&&e.set("category",c),r&&e.set("search",r),n&&e.set("title","true"),l&&e.set("tags","true");const y=`/projects/?${e.toString()}`;m(!0),C.get(y).then(i=>h(i.data)).catch(i=>console.error(i)).finally(()=>m(!1))},[c,r,n,l]),t.jsxs("section",{className:"container-fluid",children:[t.jsx("div",{className:"row my-4",children:t.jsxs("div",{className:"col-md-8 offset-md-2",children:[t.jsxs("div",{className:"d-flex flex-column flex-md-row align-items-center gap-2",children:[t.jsx("input",{id:"search-input",type:"text",className:"form-control",placeholder:"Search...",value:o,onChange:b}),t.jsx("button",{className:"btn btn-primary",onClick:N,children:"Search"})]}),t.jsxs("div",{className:"d-flex justify-content-center mt-3 gap-3",children:[t.jsx("button",{className:`btn btn-sm ${g?"btn-success":"btn-outline-secondary"}`,onClick:()=>j(e=>!e),children:"Title"}),t.jsx("button",{className:`btn btn-sm ${u?"btn-success":"btn-outline-secondary"}`,onClick:()=>S(e=>!e),children:"Tags"})]})]})}),p?t.jsx("center",{children:t.jsx("div",{className:"loader-wrapper",children:t.jsx(w,{color:"#6059c9",size:80,speedMultiplier:1.2,"aria-label":"Loading Spinner","data-testid":"loader"})})}):t.jsx("div",{className:"campaigns-grid container padding",children:d.length>0?d.map(e=>t.jsx(P,{project:e},e.id)):t.jsx("p",{className:"text-center mt-4",children:"No projects found."})}),t.jsx(v,{})]})};export{R as default};
