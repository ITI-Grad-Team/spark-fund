import{e as h,r as n,j as s,L as x,a as f}from"./index-Mo7RvhfR.js";/* empty css              */const y=()=>{const{uidb64:w,token:u}=h(),[e,d]=n.useState({password:"",confirmPassword:""}),[t,a]=n.useState({message:"",type:""}),[i,m]=n.useState(!1),c=r=>{d({...e,[r.target.name]:r.target.value})},g=async r=>{var l,p;if(r.preventDefault(),e.password!==e.confirmPassword){a({message:"Passwords do not match.",type:"danger"}),setTimeout(()=>a({message:"",type:""}),5e3);return}m(!0);try{const o=await f.post(`/auth/password/reset/confirm/${w}/${u}/`,{password:e.password,confirm_password:e.confirmPassword});a({message:o.data.message,type:"success"}),d({password:"",confirmPassword:""}),setTimeout(()=>a({message:"",type:""}),5e3)}catch(o){a({message:((p=(l=o.response)==null?void 0:l.data)==null?void 0:p.error)||"Failed to reset password.",type:"danger"}),setTimeout(()=>a({message:"",type:""}),5e3)}finally{m(!1)}};return s.jsx("section",{className:"login",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"card shadow my-login-card-style",style:{borderRadius:20},children:[s.jsx("div",{className:"column-1",children:s.jsx("img",{src:"/Frame2.png",alt:"reset password page image"})}),s.jsxs("div",{className:"card-body column-2",children:[s.jsx("h4",{className:"text-center mb-2",children:"Set New Password"}),s.jsx("p",{className:"text-center text-secondary mb-4",children:"Enter your new password below."}),t.message&&s.jsx("div",{className:`alert alert-${t.type}`,role:"alert",children:t.message}),s.jsxs("form",{onSubmit:g,children:[s.jsxs("div",{className:"form-floating mb-3",children:[s.jsx("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"New Password",value:e.password,onChange:c,required:!0}),s.jsx("label",{htmlFor:"password",children:"New Password"})]}),s.jsxs("div",{className:"form-floating mb-4",children:[s.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:"form-control",placeholder:"Confirm Password",value:e.confirmPassword,onChange:c,required:!0}),s.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"})]}),s.jsx("button",{type:"submit",className:"btn btn-primary w-100 mb-3",disabled:i,children:i?"Resetting...":"Reset Password"}),s.jsxs("p",{className:"text-center mt-3 mb-0",children:["Back to ",s.jsx(x,{to:"/login",children:"Login"})]})]})]})]})})})};export{y as default};
